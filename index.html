<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
    <h3>evoImage</h3>
<img id=sourceImage src="flowers.jpg" hidden=True />
<canvas id="inCanvas" width="300" height="300">
</canvas>
<div class="approxesDiv" id="approxesDiv">

</div>
<canvas id="plotCanvas" width="2000" height="200">
</canvas>
<span>
<button id='addApprox'>New Organism</button>
</span>
<button id='sex'>Sexually Reproduce</button>
</span>
<div id='palette'></span>
<script type="text/javascript" src="rgbcolor.js"></script> 
<script type="text/javascript" src="canvg.js"></script> 
<script type="text/javascript" src="http://figue.googlecode.com/svn/trunk/figue.js"></script> 
<script type="text/javascript" src="evoimage.js"></script> 
<script type="text/javascript">
    window.onload = function(){
        var counter = 0;
        var colorContainer = document.getElementById('palette');
        var srcImage = document.getElementById("sourceImage");
        var inCanvas = document.getElementById('inCanvas');
        var plotCanvas = document.getElementById('plotCanvas');
        var fitnessDisplay = document.getElementById('fitnessDisplay');
        var approxesDiv = document.getElementById('approxesDiv');
        inCtx = inCanvas.getContext('2d');
        inCtx.drawImage(sourceImage, 0, 0);
        var palette = getPalette(inCtx.getImageData(0, 0, 200, 200).data, 20, colorContainer);

        var approxes = [];

        addApproxButton = document.getElementById('addApprox');
        addApproxButton.addEventListener('click', function(){
            approxes.push(new Approx('organism '+counter++, approxesDiv, inCanvas))
        });
        sexButton = document.getElementById('sex');
        sexButton.addEventListener('click', function(){
            sexuallyReproduce();
            ;
        });
    }



</script>

</body>

</html>
